---
# POD Build Pipeline Jobs for Voltha Releases
# -----------------------------------------------------------------------
# Disabled, offline -- 'qa-testvm-pod'
# NOTE: Remove -master after ci-management/jjb/voltha-test/voltha.yaml
# -----------------------------------------------------------------------
- project:
    name: voltha-release-jobs-master

    project-name: '{name}'

    build-timeout: '300'

    with-kind: false
    power-switch: false
    power-cycle-olt: false
    work-flow: 'ATT'
    in-band-management: false
    num-of-openonu: '1'
    num-of-onos: '1'
    num-of-atomix: '0'
    reinstall-olt: true
    test-type: ''
    volthaSystemTestsChange: ''
    kindVolthaChange: ''
    cordTesterChange: ''
    oltAdapterAppLabel: 'adapter-open-olt'
    num-of-onus: ''
    num-of-ponports: ''

    jobs:
      # flex OCP pod with olt/onu - Default tech profile and timer based job
      - 'build_voltha_pod_release_timer':
          disable-job: true              # Reason: qa-testvm-pod offline
          build-node: 'qa-testvm-pod'
          config-pod: 'flex-ocp-cord'
          profile: 'Default'
          time: '5'
          VolthaEtcdPort: 9999
          num-of-onos: '3'
          num-of-atomix: '3'

      # [VOL-4939] - flex OCP pod with olt/onu - 1T4GEM tech profile and timer based job
      - 'build_voltha_pod_release_timer':
          disable-job: true
          build-node: 'qa-testvm-pod'
          config-pod: 'flex-ocp-cord'
          branch: 'master'
          release: 'master' 
          profile: '1T4GEM'
          time: '1'
          VolthaEtcdPort: 9999
          num-of-onos: '3'
          num-of-atomix: '3'
          pipeline-script: 'voltha/master/physical-build.groovy'
 
      # -----------------------------------------------------------------------
      # Menlo pod with olt/onu - master branch,  Default tech profile and timer based job
      # md5sum(master): f94fd1f2d15674629cb0900bb3b6c08a
      # ----------------------------------------------------------------------- 
      - 'build_voltha_pod_release_timer':
          build-node: 'menlo-demo-pod'
          config-pod: 'onf-demo-pod'
          #branch: 'master'
          #release: 'master'
          disable-job: true              # menlo-demo-pod offline
          name-extension: '_DT'
          work-flow: 'DT'
          profile: '1T8GEM'
          num-of-onos: '3'
          num-of-atomix: '3'
          VolthaEtcdPort: 9999
          in-band-management: true
          waitTimerForOltUp: 540
          time: '6'
# Was not mentioned in voltha.yaml for branch=master ?!?
#          pipeline-script: 'voltha/master/physical-build.groovy'

      # -----------------------------------------------------------------------
      # Menlo pod with olt/onu - 1T4GEM tech profile and timer based job
      # md5sum(master): 68a2922b69b3b7f83a599ae6fb7abb1c
      # ----------------------------------------------------------------------- 
      - 'build_voltha_pod_release_timer':
          build-node: 'menlo-demo-pod'
          config-pod: 'onf-demo-pod'
          disable-job: true               # Reason: onf-demo-pod offline
          release: 'master'
          branch: 'master'
          profile: '1T4GEM'
          num-of-onos: '3'
          num-of-atomix: '3'
          in-band-management: true
          waitTimerForOltUp: 540
          VolthaEtcdPort: 9999
          time: '1'

      # -----------------------------------------------------------------------
      # flex OCP pod with olt/onu - Released versions Default tech profile and timer based job
      # md5sum(master): 07b501ef13e00b5aeaf808ca534ba276
      # -----------------------------------------------------------------------
      - 'build_voltha_pod_release_timer':
          disable-job: true              # Reason: qa-test-vm offline
          build-node: 'qa-testvm-pod'
          config-pod: 'flex-ocp-cord'
          release: 'master'
          branch: 'master'
          name-extension: '_TT'
          work-flow: 'TT'
          profile: 'TP'
          time: '10'
          VolthaEtcdPort: 9999
          num-of-onos: '3'
          num-of-atomix: '3'

      # -----------------------------------------------------------------------
      # flex OCP pod with olt/onu - Released versions Default tech profile and timer based job
      # ec22ad3751cbb83e0cff505eaebe9f6f
      # -----------------------------------------------------------------------
      - 'build_voltha_pod_release_timer':
          disable-job: true
          build-node: 'qa-testvm-pod'
          config-pod: 'flex-ocp-cord-multi-uni'
          release: 'master'
          branch: 'master'
          name-extension: '_TT'
          work-flow: 'TT'
          profile: 'TP'
          time: '16'
          VolthaEtcdPort: 9999
          num-of-onos: '3'
          num-of-atomix: '3'
          reinstall-olt: true
          enableMultiUni: true
          uniPortMask: '0x0003'
          
# [EOF]
